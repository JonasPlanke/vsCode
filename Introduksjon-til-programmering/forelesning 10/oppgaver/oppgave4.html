<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <select id="movie-select">
      <option value="1">Action</option>
      <option value="2">Scary</option>
      <option value="3">Drama</option>
    </select>
    <input id="search" type="text" value="Søk etter film" />
    <input id="search-btn" type="button" value="Søk"

    <div>
      <ul id="movie-container"></ul>
    </div>

    <script>
      var movieSelect = document.getElementById("movie-select");
      var movieContainer = document.getElementById("movie-container");
      var movieBtn = document.getElementById("movie-btn");
      var searchBtn = document.getElementById("search-btn")
      var searchField = document.getElementById("search")

      var movies = [
        {
          name: "Black Adam",
          categorie: "Action",
        },
        {
          name: "Halloween Ends",
          categorie: "Scary",
        },
        {
          name: "The Stranger",
          categorie: "Drama",
        },
        {
          name: "Terrifier 2",
          categorie: "Action",
        },
        {
          name: "Smile",
          categorie: "Scary",
        },
      ];

     function chooseMovie() {
        var userMovie = movieSelect.value;
        switch (userMovie) {
          case "1":
            movieContainer.innerHTML = "";
            for (var i = 0; i < movies.length; i++) {
              if (movies[i].categorie == "Action") {
                movieContainer.innerHTML += `<li> ${movies[i].name} </li>`;
              }
            }
            break;
          case "2":
            movieContainer.innerHTML = "";
            for (var i = 0; i < movies.length; i++) {
              if (movies[i].categorie == "Scary") {
                movieContainer.innerHTML += `<li> ${movies[i].name} </li>`;
              }
            }
            break;
          case "3":
            movieContainer.innerHTML = "";
            for (var i = 0; i < movies.length; i++) {
              if (movies[i].categorie == "Drama") {
                movieContainer.innerHTML += `<li> ${movies[i].name} </li>`;
              }
            }
            break;
        }
      }
      
      function searchMovie(){
        var userMovie = movieSelect.value;
        var searchBtnValue = searchField.value

        for(var i = 0; i < movies.length; i++){
          if(searchBtnValue.includes(movies[i].name)){
            movieContainer.innerHTML += movies[i].name


          }
        }
      }

      searchBtn.onclick = searchMovie;
    </script>
  </body>
</html>
