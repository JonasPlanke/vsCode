<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Oppgave 3. Matlageret (25%)</title>
  </head>
  <body>
    <h3>Matlageret</h3>
    <label>Produktnavn</label>
    <input id="product-name-field" type="text" /><br />
    <label>Antall på lager</label>
    <input id="numberField" type="text" /><br />
    <input id="addBtn" type="button" value="Legg til produkt i array" />
    <input id="showBtn" type="button" value="Vis produkter du har lagt til" />
    <div id="productContainer"></div>

    <script>
      var productConatiner = document.getElementById("productContainer");

      var productNameField = document.getElementById("product-name-field");
      var amountField = document.getElementById("numberField");
      var addBtn = document.getElementById("addBtn");
      var showBtn = document.getElementById("showBtn");

      /* Besvarelse legges til før og/eller etter funksjonen */
      var productArray = [
        { name: "Grandiosa", amount: 10 },
        { name: "Grandiosa", amount: 100000 },
        { name: "Grandiosa", amount: 1000 },
      ];

      function addProducts() {
        var name = productNameField.value;
        var amount = parseInt(amountField.value);
        productNameField.value = "";
        amountField.value = "";

        productArray.push({ name, amount });
      }
      addBtn.onclick = addProducts;

      console.log(productArray[-1].amount);
      function showProducts() {
        productConatiner.innerHTML = "";
        for (var i = 0; i <= productArray.length; i++) {
          productConatiner.innerHTML += `<li> ${
            productArray[
              i +
                sortByAmount(productArray[i].amount, productArray[i + 1].amount)
            ]
          } </li>`;
        }
      }
      showBtn.onclick = showProducts;

      function sortByAmount(a, b) {
        if (a.amount < b.amount) {
          return 1;
        }
        if (a.amount > b.amount) {
          return -1;
        }
        return 0;
      }
    </script>
  </body>
</html>
